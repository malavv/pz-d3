<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>pz-d3 Demo</title>

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <script src="data.js"></script>

  <link rel="import" href="../pz-d3.html">
  <style></style>

</head>
<body>
  <p>A simple <code>pz-d3</code> looks like this:</p>

  <template is="dom-bind">
    <script>
      document.addEventListener("WebComponentsReady", function(event) {
        let
          multi = document.querySelector('#multi-bar-char-pts'),
          barsChart = document.querySelector('#bar-char-bars');

        barsChart.setMeta(structure);
        barsChart.setObservations(observations.filter(n => n[0] === 2009));
        multi.setMeta(structure);
        multi.setObservations(observations);
      });
    </script>
    <pz-d3 id="multi-bar-char-pts" width=500 height=500 margins='{}'>
      <pz-title>Multiple Point Bar Chart with points.</pz-title>

      <pz-chart>
        <pz-axis-ordinal orient='bottom' key='phio:stratification_CLSC'></pz-axis-ordinal>
        <pz-axis-linear orient='left' key='<unimplemented:mean>' min=0></pz-axis-linear>

        <pz-points x='phio:stratification_CLSC' y='<unimplemented:mean>' color='rgba(124,240,10,0.5)' half-left></pz-points>
        <pz-points x='phio:stratification_CLSC' y='<unimplemented:mean>' color='rgba(0,240,240,0.5)' half-right></pz-points>
      </pz-chart>

      <pz-meta></pz-meta>
      <pz-data></pz-data>
    </pz-d3>
    <pz-d3 id="bar-char-bars" width=500 height=500 margins='{}'>
      <pz-title>Bar Chart with bars.</pz-title>

      <pz-chart>
        <pz-axis-ordinal orient='bottom' key='phio:stratification_CLSC'></pz-axis-ordinal>
        <pz-axis-linear orient='left' key='<unimplemented:mean>' min=0></pz-axis-linear>

        <pz-bars
            x='phio:stratification_CLSC'
            ymin=0 ymax='<unimplemented:mean>' half-left></pz-bars>
      </pz-chart>

      <pz-meta></pz-meta>
      <pz-data></pz-data>
    </pz-d3>

    <pz-d3 width=500 height=500 margins='{}'>
      <pz-title>Bar Chart with bars.</pz-title>

      <pz-chart>
        <pz-axis-linear orient='bottom' key='xkey'></pz-axis-linear>
        <pz-axis-linear orient='left' key='ykey' min=0></pz-axis-linear>

        <pz-points x='xkey' y='ykey'></pz-points>
      </pz-chart>

      <pz-meta
          indicator='{}'
          structure='[{"ref": "xkey"}, {"ref": "ykey"}]'></pz-meta>
      <pz-data
          observations='[[0, 0], [1, 1], [2, 2], [3, 3]]'></pz-data>
    </pz-d3>

  </template>
</body>
</html>
